extends admin-layout

block content
    h2 Create API user
    if error
        div(class='alert alert-danger', role='alert')
            if error === 'ER_DUP_ENTRY'
                p The selected username is already in use
            else if error === 'PASS_MISMATCH'
                p The passwords did not match
            else
                p Unknown error #{error} encountered when creating API user
    form(class='form-horizontal', id='apiuserform', method='post', action='/admin/api/create')
        div(class='form-group')
            label(for='username', class='col-sm-2 control-label') Username
            div(class='col-sm-10')
                input(type='text', maxlength=30, class='form-control', name='username', id='username', required)
        div(class='form-group')
            label(for='password', class='col-sm-2 control-label') Password
            div(class='col-sm-10')
                input(type='password', class='form-control', name='password', id='password', required)
        div(class='form-group')
            label(for='confirmpassword', class='col-sm-2 control-label') Confirm password
            div(class='col-sm-10')
                input(type='password', class='form-control', name='confirmpassword', id='confirmpassword', required)
        div(class='form-group')
            label(for='urls', class='col-sm-2 control-label') Permitted URLs
            div(class='col-sm-10')
                textarea(class='form-control', name='urls', id='urls')
        div(class='form-group')
            div(class='col-sm-offset-2 col-sm-10')
                a(class='btn btn-default', href='/admin/api') Cancel
                button(type='submit', class='btn btn-primary') Create